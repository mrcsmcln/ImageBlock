+function(i){"use strict";function t(){return this.each(function(){i(this).data("mjm.image-block",new e(this))})}var e=function(t){this.$block=i(t),this.$images=this.$block.find(".image-block-bg").filter(function(){return i(this).closest(".image-block").is(t)}),this.imagesDimensions=[],this.imagesAspectRatio=[],this.getBlockDimensions(),this.$images.each(i.proxy(function(t,e){i(e).on("load.mjm.image-block",i.proxy(function(){this.getImageDimensions(t,e),this.resizeImage(t,e)},this)),e.complete&&i(e).trigger("load.mjm.image-block")},this))};e.VERSION="1.0.10",e.prototype.handleResize=function(){this.getBlockDimensions(),this.resizeImages()},e.prototype.getBlockDimensions=function(){this.blockDimensions={width:this.$block.innerWidth(),height:this.$block.innerHeight()},this.blockAspectRatio=this.blockDimensions.width/this.blockDimensions.height},e.prototype.getImageDimensions=function(i,t){if(t instanceof HTMLImageElement)var e=t.naturalWidth,s=t.naturalHeight;else if(t instanceof SVGElement)var e=t.viewBox.baseVal.width,s=t.viewBox.baseVal.height;else if(t instanceof HTMLVideoElement)var e=videoWidth,s=videoHeight;this.imagesDimensions[i]={width:e,height:s},this.imagesAspectRatio[i]=e/s},e.prototype.resizeImage=function(t,e){var s=i(e);this.blockAspectRatio>this.imagesAspectRatio[t]&&!s.hasClass("landscape")?s.attr("class",s.attr("class").replace(/landscape|portrait/,"")+"landscape"):this.blockAspectRatio<this.imagesAspectRatio[t]&&!s.hasClass("portrait")&&s.attr("class",s.attr("class").replace(/landscape|portrait/,"")+"portrait")},e.prototype.resizeImages=function(){this.$images.each(i.proxy(function(i,t){this.resizeImage(i,t)},this))};var s=i.fn.imageBlock;i.fn.imageBlock=t,i.fn.imageBlock.Constructor=e,i.fn.imageBlock.noConflict=function(){return i.fn.imageBlock=s,this},i(document).on("ready.mjm.image-block",function(){i(".image-block").imageBlock(),i(window).on("resize.mjm.image-block",function(){i(".image-block").each(function(){i(this).data("mjm.image-block").handleResize()})})})}(jQuery);